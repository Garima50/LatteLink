<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee Gallery</title>
  <!-- Fancybox CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.9/dist/fancybox/fancybox.css">
  <style>
    /* Global styles */
    body {
      background: #000;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }

    .head {
        color: rgba(255, 255, 255, 0.96);
        text-align: center;
        font-size: 42px;
        margin-top: 6%;
    }

    .container {
      display: flex;
      gap: 20px;
      margin-top: 4.5%;
      margin-bottom: 4%;
      background: rgba(0, 0, 0, 0.6); /* Semi-transparent black background */
      width: 100%;
      max-height: 1200vh;
      overflow: hidden;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      padding-bottom: 5px;
      padding-top: 5px;
    }

    a {
      display: block;
      position: relative;
      height: 222px;
      width: 220px; /* Set a fixed width for images */
      overflow: hidden;
      border-radius: 15px;
      border: 5px solid transparent;
      transition: border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Added transition for box-shadow */
      margin-bottom: 5px;
    }

    a img {
      display: block;
      height: 100%;
      width: 100%;
      object-fit: cover; /* Ensure images cover the container area */
      will-change: transform;
      transition: transform 0.3s ease;
    }

    a:hover {
      border-color: #eef;
      transform: scale(1.05); /* Slight zoom effect when hovering over the anchor */
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* Added shadow on hover */
    }

    a:hover img {
      transform: scale(1.1); /* Zoom effect on hover */
    }

    /* Fancybox styles */
    .fancybox__container {
      --fancybox-slide-gap: 100px;
      --f-slide-img-width: 100%;
      --f-slide-img-height: 100%;
    }

    .fancybox__slide {
      width: 65vw;
      padding: 0;
      transform-style: preserve-3d;
      justify-content: center;
    }

    .fancybox__content {
      width: var(--f-slide-img-width) !important;
      height: var(--f-slide-img-height) !important;
      max-height: calc(100vh - 40px);
      perspective: 1000px;
      rotate: 0.1deg;
      will-change: transform, width, height, max-width;
    }

    .fancybox__content img {
      object-fit: cover;
      border-radius: 15px;
      transform: scale(var(--f-scale, 1));
      transform-origin: var(--f-anchor, center center);
      will-change: transform;
    }

    .fancybox_footer, .fancybox_header {
      position: absolute;
    }
  </style>
</head>
<body>
    <h1 class="head"> G A L L E R Y </h1>
  <div class="container">
    <a data-fancybox="gallery" data-caption="coffee1" href="coffee1.jpg">
      <img src="/img/bliss.webp" alt="Coffee 1">
    </a>

    <a data-fancybox="gallery" data-caption="coffee2" href="coffee2.jpg">
      <img src="/img/latteart.jpg" alt="Coffee 2">
    </a>

    <a data-fancybox="gallery" data-caption="coffee3" href="coffee3.jpg">
      <img src="/img/cupcakes.jpeg" alt="Coffee 3">
    </a>

    <a data-fancybox="gallery" data-caption="coffee4" href="coffee4.jpg">
      <img src="/img/crossiont.jpg" alt="Coffee 4">
    </a>

    <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
      <img src="/img/blue-cake.jpg" alt="Coffee 5">
    </a>

    <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cupcakeee.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/gallery5.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/gallery3.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/choco.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/wow.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/mocha-latte.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cupcake.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/macaroon.webp" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cheesecake.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/chococake.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cake.jpeg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/wow.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/haye.jpg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cafe.jpeg" alt="Coffee 5">
      </a>

      <a data-fancybox="gallery" data-caption="coffee5" href="coffee5.jpg">
        <img src="/img/cafeboard.jpg" alt="Coffee 5">
      </a>
  </div>

  <!-- Fancybox JS -->
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.9/dist/fancybox/fancybox.umd.js"></script>
  <script>
    const lerp = (a, b, t) => (b - a) * t + a;
    const unlerp = (a, b, t) => (t - a) / (b - a);
    const map = (a1, b1, a2, b2, t) => lerp(a2, b2, unlerp(a1, b1, t));

    Fancybox.bind(document.body, "[data-fancybox]", {
      hideScrollbar: false,
      Hash: false,
      Thumbs: false,
      Toolbar: false,
      closeExisting: true,
      commonCaption: true,
      placeFocusBack: false,
      closeButton: false,
      compact: false,

      Carousel: {
        transition: "slide",
        preload: 2,
        slidesPerPage: 1,
        Panzoom: {
          maxScale: 1.5
        }
      },
      Images: {
        zoom: false
      },

      tpl: {
        main: `<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
          <div class="fancybox_header"><button class="fancybox_close" aria-label="{{CLOSE}}">âœ–</button></div>
          <div class="fancybox__backdrop"></div>
          <div class="fancybox__carousel"></div>
          <div class="fancybox__footer"></div>
        </div>`
      },

      on: {
        click: (fbox, eName) => {
          const slide = fbox.getSlide();
          console.log("ðŸŽ  - ", eName, slide);
          if (!slide) return;
          const image = slide.imageEl;
          if (!image) return;
          console.log(slide.panzoom.scale);
          if (slide.panzoom.scale !== 1) {
            slide.contentEl.style.removeProperty("--f-slide-img-width");
            slide.contentEl.style.removeProperty("--f-slide-img-height");
            image.style.removeProperty("width");
            return;
          }
          const content = slide.contentEl;
          if (!content) return;
          const cWidth = parseInt(content.style.width) || null;
          const cHeight = parseInt(content.style.height) || null;
          if (!cWidth || !cHeight) return;
          if (image.clientWidth > image.naturalWidth || image.clientHeight > image.naturalHeight)
            return;
          setTimeout(() => {
            console.log("ðŸŽ  - setTimeout", image);
            image.style.width = "100.1%";
            setTimeout(() => {
              image.style.removeProperty("width");
            }, 20);
          }, 500);
          content.style.setProperty("--f-slide-img-width", cWidth + "px");
          content.style.setProperty("--f-slide-img-height", cHeight + "px");
        },

        "Carousel.Panzoom.beforeTransform": (slider) => {
          const carousel = slider.carousel;
          carousel.slides.map((slide) => {
            const progress = carousel.getProgress(slide.index);
            const scale = map(0, 1, 0.8, 1, 1 - Math.abs(progress));
            const anchor = map(-1, 1, 0, 100, progress);

            slide.el?.style?.setProperty("--f-scale", scale.toFixed(4));
            slide.el?.style?.setProperty("--f-anchor", anchor.toFixed(2)% center);
          });
        },

        close: (e) => {
          console.log("ðŸŽ  - close", e.lastFocus);
          const elem = document.activeElement;
          if (elem instanceof HTMLElement) {
            elem.blur(); // Remove focus when closed
          }
        }
      }
    });
  </script>
</body>
</html>